{% extends "base.html" %}

{% block tilte %}
Buisiness Detail
{% endblock %}

{% block content %}

	 
	<div class="col-md-12">
		<img class="card-img-top1 mt-3 ml-5" src={{restaurant_obj.image.url}} alt="Card image cap">
		
		<h1 class=" ml-3"><strong>Restaurant name : {{restaurant_obj.name}}</strong></h1>
	</div>
	<div class="col-md-12">
	<div class="col-sm-12 col-md-12 col-lg-12 mt-5 mb-5">
		<div class="mx-auto" style="width: 200px;">
			<a href="{% url 'addCategory' restaurant_id=restaurant_obj.id %}"><button type="button" class="ml-3 mr-5 mt-5 btn btn-success mx-middle btn-lg fas fa-plus-circle">  Add New Category</button></a>
		</div>
	</div>
	
		
		<h3 class="ml-5 mt-5">Menu :</h3>
		
	</div>

		<br>
		
		{%for category in restaurant_obj.category_set.all%}
			<div class="jumbotron border border-success">
			<h1 class="alert alert-success mx-auto">[{{category.name}}]</h1>
				<a href="{% url 'update_category' category_id=category.id %}"><button type="button" class="ml-5 mx-auto btn btn-primary btn-lg fas fa-cogs">  Edit Category Name</button></a>
					<button type="button" class="ml-5 mx-auto btn btn-danger btn-lg fas fa-trash-alt" data-toggle="modal" data-target="#deleteModal-{{category.id}}">
						DELETE
					</button>
				<div class="modal fade" id="deleteModal-{{category.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				  <div class="modal-dialog" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title" id="exampleModalLabel">Do you want to Delete {{category.name}}?</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
				      </div>
				      <div class="modal-footer">
				        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				        <a href="{% url 'delete_category' category_id=category.id %}">
				        	<button type="button" class="btn btn-danger">
				        	Delete
				        	</button>
				        </a>
				      </div>
				    </div>
				  </div>
				</div>

				<a href="{% url 'addItem' category_id=category.id %}"><button type="button" class="ml-5 mx-auto btn btn-success btn-lg fas fa-plus-circle">  Add Item </button></a>

			<br>
			{%for item in category.item_set.all%}
			<hr style="height:2px;background-color:black;border:none;" noshade />
			<div class="card-deck ml-3 mt-3 ">
			  <div class="card col-md-4">
			    <div class="card-body">
			      <h5 class="card-title"> <strong> {{item.name}} </strong></h5>
			      <p class="card-text"><strong>Description :</strong> {{item.description}}</p>
			      <p class="card-text text-danger"><small class="">Price : {{item.price}} KWD</small></p>
		        </div>
	  		  </div>
	  		  <div>
	  			<a href="{% url 'update_item' item_id=item.id %}"><button type="button" class="ml-5 mt-5 btn btn-primary fas fa-cogs">  Edit Item</button></a>
	  		  </div>

	  		  
	  			<a href="#">
	  			<button type="button" class="ml-2 mt-5 btn btn-danger fas fa-trash-alt " data-toggle="modal" data-target="#deleteModal-{{item.id}}">  Delete Item</button>
	  			</a>
	  			<div class="modal fade" id="deleteModal-{{item.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				  <div class="modal-dialog" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title" id="exampleModalLabel">Do you want to Delete {{item.name}}?</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
				      </div>
				      <div class="modal-footer">
				        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				        <a href="{% url 'delete_item' item_id=item.id %}">
				        	<button type="button" class="btn btn-danger">
				        	Delete
				        	</button>
				        </a>
				      </div>
				    </div>
				  </div>
				</div>
	  	      
			
			
			</div>
			<hr style="height:2px;background-color:black;border:none;" noshade />
			{%endfor%}
			</div>
			
		{%endfor%}

	
	<div class="col-sm-12 col-md-12 col-lg-12 mt-5 mb-5">
		<div class="mx-auto" style="width: 200px;">
			<a href="{% url 'addCategory' restaurant_id=restaurant_obj.id %}"><button type="button" class="ml-3 mr-5 mt-5 btn btn-success mx-middle btn-lg fas fa-plus-circle"> Add New Category</button></a>
		</div>
	</div>
	<div class="col-sm-12 col-md-12 col-lg-12 mt-5 mb-5">
			
				<a href="{% url 'profile_page' %}"><button type="button" class="ml-3 mr-5 mt-5 btn btn-dark btn-lg fa fa-arrow-circle-left">  Back</button></a>
			</div>
			<br>
			<div class="mb-5"></div>
	




{% endblock content %}
